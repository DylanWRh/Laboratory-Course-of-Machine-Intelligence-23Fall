//delete all items in this object's inventory except this script
cleanUpInventory()
{
    list inventory;
    integer nItems = llGetInventoryNumber(INVENTORY_ALL);
    integer x;
    
    // note that since we will be deleting items from the Inventory, 
    // item index numbers aren't reliable.  
    //
    // First get all the names in a list, then delete using the list
    for (x = 0; x < nItems; x++)
    {
        inventory = inventory + [llGetInventoryName(INVENTORY_ALL, x)];
    }
    
    for (x = 0; x < llGetListLength(inventory); x++)
    {
        string item = llList2String(inventory, x);
        if (item != llGetScriptName())
        {
            llRemoveInventory(item);
        }
    }    
}

default
{
    state_entry()
    {
        llAllowInventoryDrop(TRUE);
    }
    
    changed(integer change)
    {
        if (change & CHANGED_ALLOWED_DROP || 
            change & CHANGED_INVENTORY)
        {
            llSay(0, "Thanks, but I don't need any of those");
            cleanUpInventory();
        }
    }
}