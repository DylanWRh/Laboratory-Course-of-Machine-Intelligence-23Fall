// Responsive Email sender
// 
// This script will use link messages to send email via another script,
// so that it can continue to annoy the owner every 5 seconds.

// These command codes must be the same in both scripts
integer SET_TO = 1;
integer SET_SUBJECT= 2;
integer SET_BODY = 3;
integer SEND = 4;

sendEmailViaLink(string address, string subject, string body)
{
    // send the link messages to set the message parameters, then send
    // the message to send the email.
    llMessageLinked(LINK_THIS, SET_TO, address, NULL_KEY);
    llMessageLinked(LINK_THIS, SET_SUBJECT, subject, NULL_KEY);
    llMessageLinked(LINK_THIS, SET_BODY, body, NULL_KEY);
    llMessageLinked(LINK_THIS, SEND, "", NULL_KEY);
    
}

default
{
    state_entry()
    {
        llSetTimerEvent(5.0);
    }
    
    timer()
    {
        llOwnerSay("I'm a responsive script");
    }

    touch_start(integer total_number)
    {
        sendEmailViaLink(
            "wednesday.grimm@gmail.com", 
            "TPS Report",
            "Everything's fine; how are things with you?"
            );
    }
}